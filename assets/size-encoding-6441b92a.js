import{c as q,a as z,s as I}from"./utils-7421e6bb.js";import{c as k,r as d}from"./d3-74ae7c41.js";import"./vendor-fecc589d.js";const w=document.querySelector("#canvas"),p=document.querySelector("#num-points"),y=document.querySelector("#num-points-value"),g=document.querySelector("#point-size"),x=document.querySelector("#point-size-value"),v=document.querySelector("#opacity"),A=document.querySelector("#opacity-value"),S=document.querySelector("#click-lasso-initiator"),P=document.querySelector("#reset"),C=document.querySelector("#export"),h=document.querySelector("#example-size-encoding");h.setAttribute("class","active");h.removeAttribute("href");let u=[],c=1e5,o=2,r=1,s=[];const b=10,V=2,$=!0,B=[1,1,.878431373,.33],R=({points:e})=>{if(console.log("Selected:",e),s=e,s.length===1){const n=u[s[0]];console.log(`X: ${n[0]}
Y: ${n[1]}
Category: ${n[2]}
Value: ${n[3]}`)}},T=()=>{console.log("Deselected:",s),s=[]},t=q({canvas:w,lassoMinDelay:b,lassoMinDist:V,pointSize:o,showReticle:$,reticleColor:B,lassoInitiator:!0,opacityInactiveScale:.66});z(t);C.addEventListener("click",()=>I(t));console.log(`Scatterplot v${t.get("version")}`);t.subscribe("select",R);t.subscribe("deselect",T);const D=d(2),O=d(4),N=d(5),X=e=>{const n=[...new Array(Math.round(e*2/12)).fill().map(()=>[-1+Math.random()*2*1/3,-1+Math.random()*2,0,D()]),...new Array(Math.round(e*4/12)).fill().map(()=>[-.33333333333333337+Math.random()*2*1/3,-1+Math.random()*2,1,O()]),...new Array(Math.round(e*6/12)).fill().map(()=>[.33333333333333326+Math.random()*2*1/3,-1+Math.random()*2,2,N()])],[a,l]=n.reduce(([i,H],m)=>[Math.min(i,m[3]),Math.max(H,m[3])],[1/0,-1/0]),L=l-a;return n.forEach(i=>{i[3]=(i[3]-a)/L}),n},E=e=>{c=e,p.value=c,y.innerHTML=c,u=X(c),t.draw(u)},Y=e=>{y.innerHTML=`${+e.target.value} <em>release to redraw</em>`};p.addEventListener("input",Y);const j=e=>E(+e.target.value);p.addEventListener("change",j);const F=e=>{const n=k().domain([1,10]).range([e,e*10]);return Array(100).fill().map((a,l)=>n(1+l/99*9))},M=e=>{o=e,g.value=o,x.innerHTML=o,t.set({pointSize:F(o)})},G=e=>M(+e.target.value);g.addEventListener("input",G);const J=e=>Array(10).fill().map((n,a)=>(a+1)/10*e),f=e=>{r=e,v.value=r,A.innerHTML=r,t.set({opacity:J(r)})},K=e=>f(+e.target.value);v.addEventListener("input",K);const Q=e=>{t.set({lassoInitiator:e.target.checked})};S.addEventListener("change",Q);S.checked=t.get("lassoInitiator");const U=()=>{t.reset()};P.addEventListener("click",U);t.set({colorBy:"category",pointColor:["#ff80cb","#57c7ff","#eee462"],sizeBy:"w",opacityBy:"w"});M(o);f(r);E(c);
