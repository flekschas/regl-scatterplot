import{c as $,a as T,s as V,b as A}from"./menu-D496VOBB.js";import{f as D}from"./vendor-CWN1LCVq.js";const B=function(){self.onmessage=function(p){const c=p.data,d=10;try{let a=[];const u=2/d,w=c/d**2;for(let m=0;m<d;m++)for(let g=0;g<d;g++){const z=-1+g*u,C=-1+m*u,f=[];for(let r=0;r<w;r++)f.push([z+Math.random()*u,C+Math.random()*u,Math.round(Math.random()),Math.random()]);a=a.concat(f.sort((r,h)=>r[0]-h[0]||r[1]-h[1]))}self.postMessage({points:a})}catch(a){self.postMessage({error:a})}}},E=document.querySelector("#modal"),b=document.querySelector("#modal span"),W=document.querySelector("#canvas"),v=document.querySelector("#num-points"),k=document.querySelector("#num-points-value"),q=document.querySelector("#point-size"),j=document.querySelector("#point-size-value"),H=document.querySelector("#opacity"),F=document.querySelector("#opacity-value"),L=document.querySelector("#click-lasso-initiator"),G=document.querySelector("#reset"),N=document.querySelector("#export"),x=document.querySelector("#example-performance-mode");x.setAttribute("class","active");x.removeAttribute("href");let y=[],n=2e7,s=.25,l=.33,i=[];const O=10,R=2,M=D(B),X=e=>new Promise((o,p)=>{M.onmessage=c=>{c.data.error?p(c.data.error):o(c.data.points)},M.postMessage(e)}),Y=e=>{E.style.display="flex",b.textContent=e},J=()=>{E.style.display="none",b.textContent=""},K=({points:e})=>{if(console.log("Selected:",e),i=e,i.length===1){const o=y[i[0]];console.log(`X: ${o[0]}
Y: ${o[1]}
Category: ${o[2]}
Value: ${o[3]}`)}},Q=()=>{console.log("Deselected:",i),i=[]},t=$({canvas:W,lassoMinDelay:O,lassoMinDist:R,pointSize:s,showReticle:!0,performanceMode:!0,lassoInitiator:!0});T(t);N.addEventListener("click",()=>V(t));console.log(`Scatterplot v${t.get("version")}`);t.subscribe("select",K);t.subscribe("deselect",Q);const S=e=>{Y(`Hang tight. Generating ${(n/1e6).toFixed(1)} million points...`),n=e,v.value=n,k.innerHTML=n,X(n).then(o=>{y=o,t.draw(y),J()})};A({scatterplot:t,setNumPoints:S});const U=e=>{k.innerHTML=`${+e.target.value} <em>release to redraw</em>`};v.addEventListener("input",U);const Z=e=>S(+e.target.value);v.addEventListener("change",Z);const P=e=>{s=e,q.value=s,j.innerHTML=s,t.set({pointSize:s})},_=e=>P(+e.target.value);q.addEventListener("input",_);const I=e=>{l=e,H.value=l,F.innerHTML=l,t.set({opacity:l})},ee=e=>I(+e.target.value);H.addEventListener("input",ee);const te=e=>{t.set({lassoInitiator:e.target.checked})};L.addEventListener("change",te);L.checked=t.get("lassoInitiator");const oe=()=>{t.reset()};G.addEventListener("click",oe);const ne=["#002072","#162b79","#233680","#2e4186","#394d8d","#425894","#4b649a","#5570a1","#5e7ca7","#6789ae","#7195b4","#7ba2ba","#85aec0","#90bbc6","#9cc7cc","#a9d4d2","#b8e0d7","#c8ecdc","#ddf7df","#ffffe0"];t.set({colorBy:"value",pointColor:ne});P(s);I(l);S(n);
