import{c as b,a as P,b as R}from"./menu-D496VOBB.js";import{l as h,c as C}from"./d3-DA7sIYMk.js";import"./vendor-CWN1LCVq.js";const d=document.querySelector("#canvas"),p=document.querySelector("#canvas-wrapper"),g=document.createElement("div");g.id="note";g.textContent="Zoom in to see labels!";p.appendChild(g);const e=document.createElement("canvas");e.id="#text-overlay";e.style.position="absolute";e.style.top=0;e.style.right=0;e.style.bottom=0;e.style.left=0;e.style.pointerEvents="none";p.appendChild(e);const y=()=>{const{width:t,height:o}=p.getBoundingClientRect();e.width=t*window.devicePixelRatio,e.height=o*window.devicePixelRatio,e.style.width=`${t}px`,e.style.height=`${o}px`};y();window.addEventListener("resize",y);const m=12,s=e.getContext("2d");s.font=`${m*window.devicePixelRatio}px sans-serif`;s.textAlign="center";let r=[],$=1e4,w=4,u=1,a=[];const z=200,E=10,M=2,O=!0,A=[1,1,.878431373,.33],n=b({canvas:d,lassoMinDelay:E,lassoMinDist:M,pointSize:w,opacity:u,showReticle:O,reticleColor:A,xScale:h().domain([-1,1]),yScale:h().domain([-1,1]),pointColor:"#fff",opacityBy:"density",lassoInitiator:!0});P(n);console.log(`Scatterplot v${n.get("version")}`);n.subscribe("select",({points:t})=>{if(console.log("Selected:",t),a=t,a.length===1){const o=r[a[0]];console.log(`X: ${o[0]}
Y: ${o[1]}
Category: ${o[2]}
Value: ${o[3]}`)}});n.subscribe("deselect",()=>{a=[]});const L=(t,o,i)=>{s.clearRect(0,0,e.width,e.height),s.fillStyle="rgb(255, 255, 255)";const l=window.devicePixelRatio;for(let c=0;c<t.length;c++){const[f,S]=r[t[c]];s.fillText(t[c],o(f)*l,i(S)*l-m*1.2*l)}},q=()=>{s.clearRect(0,0,d.width,d.height)};n.subscribe("drawing",({xScale:t,yScale:o})=>{const i=n.get("pointsInView");i.length<=z?L(i,t,o):q()});const B=t=>Array.from({length:t},()=>[-1+Math.random()*2,-1+Math.random()*2]),v=t=>{r=B(t),n.draw(r)},D=t=>{const o=C().domain([1,10]).range([t,t*10]);return Array.from({length:100},(i,l)=>o(1+l/99*9))},x=t=>{n.set({pointSize:D(t)})},T=t=>Array.from({length:10},(o,i)=>(i+1)/10*t),_=t=>{n.set({opacity:T(t)})};R({scatterplot:n,setNumPoints:v,setPointSize:x});x(w);_(u);v($);
