import{c as Y,a as O,s as G}from"./utils.334633c7.js";import"./vendor.cfd24b35.js";const R=document.querySelector("#canvas"),H=document.querySelector("#num-points"),F=document.querySelector("#num-points-value"),M=document.querySelector("#point-size"),j=document.querySelector("#point-size-value"),I=document.querySelector("#opacity"),J=document.querySelector("#opacity-value"),C=document.querySelector("#click-lasso-initiator"),K=document.querySelector("#reset"),Q=document.querySelector("#export"),T=document.querySelector("#example-dynamic-opacity");T.setAttribute("class","active");T.removeAttribute("href");let q=[],p=1e6,i=2,m=.15,v=[];const U=10,W=2,Z=!0,_=[1,1,.878431373,.33],ee=({points:e})=>{if(console.log("Selected:",e),v=e,v.length===1){const t=q[v[0]];console.log(`X: ${t[0]}
Y: ${t[1]}
Category: ${t[2]}
Value: ${t[3]}`)}},te=()=>{console.log("Deselected:",v),v=[]},o=Y({canvas:R,lassoMinDelay:U,lassoMinDist:W,pointSize:i,pointColor:"#fff",opacityBy:"density",showReticle:Z,reticleColor:_,lassoInitiator:!0});O(o);Q.addEventListener("click",()=>G(o));console.log(`Scatterplot v${o.get("version")}`);o.subscribe("select",ee);o.subscribe("deselect",te);const ne=e=>{const t=[];let r=2.644838333129883,a=4.060488700866699,u=2.8982460498809814,l,s,z;const D=.2,x=.2,b=5.7,c=.006;let y=1/0,S=-1/0,d=1/0,E=-1/0;for(let n=0;n<=e;n++){let L=-a-u,f=r+D*a,h=x+u*(r-b);const k=r+.5*c*L,P=a+.5*c*f,B=u+.5*c*h;L=-P-B,f=k+D*P,h=x+B*(k-b),l=r+c*L,s=a+c*f,z=u+c*h,t.push([l,s,0,0]),y=l<y?l:y,S=l>S?l:S,d=s<d?s:d,E=s>E?s:E,r=l,a=s,u=z}const N=S-y,X=E-d;for(let n=0;n<=e;n++)t[n][0]-=y,t[n][0]/=N/2,t[n][0]-=1,t[n][1]-=d,t[n][1]/=X/2,t[n][1]-=1;return t},$=e=>{p=e,H.value=p,F.innerHTML=p,q=ne(p),o.draw(q)},oe=e=>{F.innerHTML=`${+e.target.value} <em>release to redraw</em>`};H.addEventListener("input",oe);const le=e=>$(+e.target.value);H.addEventListener("change",le);const V=e=>{i=e,M.value=i,j.innerHTML=i,o.set({pointSize:i})},se=e=>V(+e.target.value);M.addEventListener("input",se);const g=I.parentNode.cloneNode(!0);I.parentNode.after(g);I.style.display="none";J.innerHTML="Auto";const w=g.querySelector("input"),ce=g.querySelector(".label"),ie=g.querySelector(".value");ce.innerHTML="Opacity Density Fill";const A=(e,t)=>{m=e,w.value=m,ie.innerHTML=m,t||o.set({opacityByDensityFill:m})},re=e=>A(+e.target.value);w.addEventListener("input",re);A(m,!0);const ae=e=>{o.set({lassoInitiator:e.target.checked})};C.addEventListener("change",ae);C.checked=o.get("lassoInitiator");const ue=()=>{o.reset()};K.addEventListener("click",ue);V(i);$(p);
