import{c as I,a as $,s as A}from"./utils-cc2710e4.js";import{l as v,a as C,b as P,s as M}from"./d3-7c155787.js";import"./vendor-b0595fa4.js";const B=document.querySelector("#parent-wrapper"),p=document.querySelector("#canvas-wrapper"),R=document.querySelector("#canvas"),S=document.querySelector("#num-points"),h=document.querySelector("#num-points-value"),x=document.querySelector("#point-size"),T=document.querySelector("#point-size-value"),E=document.querySelector("#opacity"),V=document.querySelector("#opacity-value"),b=document.querySelector("#click-lasso-initiator"),D=document.querySelector("#reset"),W=document.querySelector("#export"),L=document.querySelector("#example-axes");L.setAttribute("class","active");L.removeAttribute("href");const N=[0,42],O=[0,4.2],k=v().domain(N),q=v().domain(O),a=C(k),s=P(q),n=M(B).append("svg"),m=n.append("g"),y=n.append("g"),X=20,Y=40;n.node().style.position="absolute";n.node().style.top=0;n.node().style.left=0;n.node().style.width="100%";n.node().style.height="100%";n.node().style.pointerEvents="none";p.style.right=`${Y}px`;p.style.bottom=`${X}px`;let{width:l,height:i}=p.getBoundingClientRect();m.attr("transform",`translate(0, ${i})`).call(a);y.attr("transform",`translate(${l}, 0)`).call(s);a.tickSizeInner(-i);s.tickSizeInner(-l);let g=[],c=1e5,o=2,r=.5,d=[];const j=({points:e})=>{if(console.log("Selected:",e),d=e,d.length===1){const u=g[d[0]];console.log(`X: ${u[0]}
Y: ${u[1]}
Category: ${u[2]}
Value: ${u[3]}`)}},F=()=>{console.log("Deselected:",d),d=[]},t=I({canvas:R,pointSize:o,xScale:k,yScale:q,showReticle:!0,lassoInitiator:!0});$(t);W.addEventListener("click",()=>A(t));console.log(`Scatterplot v${t.get("version")}`);t.subscribe("select",j);t.subscribe("deselect",F);t.subscribe("view",e=>{m.call(a.scale(e.xScale)),y.call(s.scale(e.yScale))});t.subscribe("init",()=>{m.call(a.scale(t.get("xScale"))),y.call(s.scale(t.get("yScale")))},1);const w=()=>{({width:l,height:i}=p.getBoundingClientRect()),m.attr("transform",`translate(0, ${i})`).call(a),y.attr("transform",`translate(${l}, 0)`).call(s),a.tickSizeInner(-i),s.tickSizeInner(-l)};window.addEventListener("resize",w);window.addEventListener("orientationchange",w);const G=e=>new Array(e).fill().map(()=>[-1+Math.random()*2,-1+Math.random()*2,Math.round(Math.random()*9),Math.random()]),z=e=>{c=e,S.value=c,h.innerHTML=c,g=G(c),t.draw(g)},J=e=>{h.innerHTML=`${+e.target.value} <em>release to redraw</em>`};S.addEventListener("input",J);const K=e=>z(+e.target.value);S.addEventListener("change",K);const H=e=>{o=e,x.value=o,T.innerHTML=o,t.set({pointSize:o})},Q=e=>H(+e.target.value);x.addEventListener("input",Q);const f=e=>{r=e,E.value=r,V.innerHTML=r,t.set({opacity:r})},U=e=>f(+e.target.value);E.addEventListener("input",U);const Z=e=>{t.set({lassoInitiator:e.target.checked})};b.addEventListener("change",Z);b.checked=t.get("lassoInitiator");const _=()=>{t.reset()};D.addEventListener("click",_);t.set({colorBy:"category",pointColor:["#d192b7","#6fb2e4","#eecb62","#56bf92","#dca237","#3a84cc","#c76526"]});H(o);f(r);z(c);
