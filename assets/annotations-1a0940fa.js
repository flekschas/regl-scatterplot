import{c as A,a as f,s as I}from"./utils-7421e6bb.js";import"./vendor-fecc589d.js";const w=document.querySelector("#canvas"),m=document.querySelector("#num-points"),v=document.querySelector("#num-points-value"),g=document.querySelector("#point-size"),$=document.querySelector("#point-size-value"),x=document.querySelector("#opacity"),b=document.querySelector("#opacity-value"),E=document.querySelector("#click-lasso-initiator"),W=document.querySelector("#reset"),T=document.querySelector("#export"),S=document.querySelector("#example-annotations");S.setAttribute("class","active");S.removeAttribute("href");let r={x:[],y:[],z:[],w:[]},i=1e5,a=2,u=.33,c=[];const V=10,B=2,D=!0,O=[1,1,.878431373,.33],h=(t=0,o=1)=>{const l=1-Math.random(),n=Math.random();return Math.sqrt(-2*Math.log(l))*Math.cos(2*Math.PI*n)*o+t},R=({points:t})=>{if(c=t,c.length===1){const o=r.x[c[0]],l=r.y[c[0]],n=r.z[c[0]],s=r.w[c[0]];console.log(`Selected: ${t}`,`X: ${o}
Y: ${l}
Category: ${n}
Value: ${s}`)}},F=()=>{c=[]},e=A({canvas:w,lassoMinDelay:V,lassoMinDist:B,pointSize:a,showReticle:D,reticleColor:O,lassoOnLongPress:!0});f(e);T.addEventListener("click",()=>I(e));console.log(`Scatterplot v${e.get("version")}`);e.subscribe("select",R);e.subscribe("deselect",F);const N=t=>{const o=(Math.log10(t)/Math.log10(1e5))**2,l=[{length:t*(7/16),cx:-.48,cy:.46,stdx:.05*o,stdy:.1*o},{length:t*(5/16),cx:.49,cy:.5,stdx:.07*o,stdy:.066*o},{length:t*(3/16),cx:.48,cy:-.51,stdx:.12*o,stdy:.05*o},{length:t*(1/16),cx:-.49,cy:-.51,stdx:.033*o,stdy:.033*o}];let n=[],s=[],y=[],p=[];return l.forEach(({length:d,cx:z,cy:q,stdx:H,stdy:P},k)=>{n=n.concat(Array.from({length:d},()=>h(z,H))),s=s.concat(Array.from({length:d},()=>h(q,P))),y=y.concat(Array.from({length:d},()=>k)),p=p.concat(Array.from({length:d},()=>Math.random()))}),{x:n,y:s,z:y,w:p}},C=t=>{i=t,m.value=i,v.innerHTML=i,r=N(i),e.draw(r)},X=t=>{v.innerHTML=`${+t.target.value} <em>release to redraw</em>`};m.addEventListener("input",X);const Y=t=>C(+t.target.value);m.addEventListener("change",Y);const M=t=>{a=t,g.value=a,$.innerHTML=a,e.set({pointSize:a})},j=t=>M(+t.target.value);g.addEventListener("input",j);const L=t=>{u=t,x.value=u,b.innerHTML=u,e.set({opacity:u})},G=t=>L(+t.target.value);x.addEventListener("input",G);const J=t=>{e.set({lassoInitiator:t.target.checked})};E.addEventListener("change",J);E.checked=e.get("lassoInitiator");const K=()=>{e.reset()};W.addEventListener("click",K);const Q=["#3a78aa","#aa3a99"];e.set({colorBy:"category",pointColor:Q});const U=["#009E73","#CC79A7","#56B4E9","#F0E442"];e.set({colorBy:"z",pointColor:U});M(a);L(u);C(i);e.drawAnnotations([{x:0,lineColor:[1,1,1,.1],lineWidth:1},{y:0,lineColor:[1,1,1,.1],lineWidth:1},{x1:-1,y1:-1,x2:1,y2:1,lineColor:[1,1,1,.25],lineWidth:1},{x1:-.5,y1:-.5,x2:.5,y2:.5,lineColor:[1,1,1,.25],lineWidth:1},{x1:-.25,y1:-.25,x2:.25,y2:.25,lineColor:[1,1,1,.25],lineWidth:1},{vertices:[[-.66,-.5],[-.5,-.33],[-.33,-.45],[-.33,-.6],[-.5,-.7],[-.66,-.5]],lineColor:"#D55E00",lineWidth:1}]);
