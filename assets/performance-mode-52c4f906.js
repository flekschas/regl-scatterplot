import{c as $,a as T,s as V}from"./utils-7421e6bb.js";import{f as A}from"./vendor-fecc589d.js";const D=function(){self.onmessage=function(p){const c=p.data,d=10;try{let a=[];const u=2/d,w=c/d**2;for(let m=0;m<d;m++)for(let g=0;g<d;g++){const z=-1+g*u,C=-1+m*u,S=[];for(let r=0;r<w;r++)S.push([z+Math.random()*u,C+Math.random()*u,Math.round(Math.random()),Math.random()]);a=a.concat(S.sort((r,f)=>r[0]-f[0]||r[1]-f[1]))}self.postMessage({points:a})}catch(a){self.postMessage({error:a})}}},E=document.querySelector("#modal"),M=document.querySelector("#modal span"),B=document.querySelector("#canvas"),v=document.querySelector("#num-points"),b=document.querySelector("#num-points-value"),k=document.querySelector("#point-size"),W=document.querySelector("#point-size-value"),q=document.querySelector("#opacity"),j=document.querySelector("#opacity-value"),H=document.querySelector("#click-lasso-initiator"),F=document.querySelector("#reset"),G=document.querySelector("#export"),L=document.querySelector("#example-performance-mode");L.setAttribute("class","active");L.removeAttribute("href");let y=[],n=2e7,s=.25,l=.33,i=[];const N=10,O=2,h=A(D),R=e=>new Promise((o,p)=>{h.onmessage=c=>{c.data.error?p(c.data.error):o(c.data.points)},h.postMessage(e)}),X=e=>{E.style.display="flex",M.textContent=e},Y=()=>{E.style.display="none",M.textContent=""},J=({points:e})=>{if(console.log("Selected:",e),i=e,i.length===1){const o=y[i[0]];console.log(`X: ${o[0]}
Y: ${o[1]}
Category: ${o[2]}
Value: ${o[3]}`)}},K=()=>{console.log("Deselected:",i),i=[]},t=$({canvas:B,lassoMinDelay:N,lassoMinDist:O,pointSize:s,showReticle:!0,performanceMode:!0,lassoInitiator:!0});T(t);G.addEventListener("click",()=>V(t));console.log(`Scatterplot v${t.get("version")}`);t.subscribe("select",J);t.subscribe("deselect",K);const x=e=>{X(`Hang tight. Generating ${(n/1e6).toFixed(1)} million points...`),n=e,v.value=n,b.innerHTML=n,R(n).then(o=>{y=o,t.draw(y),Y()})},Q=e=>{b.innerHTML=`${+e.target.value} <em>release to redraw</em>`};v.addEventListener("input",Q);const U=e=>x(+e.target.value);v.addEventListener("change",U);const P=e=>{s=e,k.value=s,W.innerHTML=s,t.set({pointSize:s})},Z=e=>P(+e.target.value);k.addEventListener("input",Z);const I=e=>{l=e,q.value=l,j.innerHTML=l,t.set({opacity:l})},_=e=>I(+e.target.value);q.addEventListener("input",_);const ee=e=>{t.set({lassoInitiator:e.target.checked})};H.addEventListener("change",ee);H.checked=t.get("lassoInitiator");const te=()=>{t.reset()};F.addEventListener("click",te);const oe=["#002072","#162b79","#233680","#2e4186","#394d8d","#425894","#4b649a","#5570a1","#5e7ca7","#6789ae","#7195b4","#7ba2ba","#85aec0","#90bbc6","#9cc7cc","#a9d4d2","#b8e0d7","#c8ecdc","#ddf7df","#ffffe0"];t.set({colorBy:"value",pointColor:oe});P(s);I(l);x(n);
